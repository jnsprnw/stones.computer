{{- $aspects := where .Site.RegularPages "Section" "eq" "aspects" -}}
{{- $topics := where .Site.RegularPages "Section" "eq" "topics" -}}
{{- $.Scratch.Add "list" slice -}}
{{- range $index, $element := sort (where .Site.RegularPages "Section" "in" site.Params.listItemTypes) "Title" -}}
	{{- $aspect := index (where $aspects "File.BaseFileName" "eq" $element.Params.aspect) 0 -}}
	{{- $topic := index (where $topics "File.BaseFileName" "eq" $element.Params.topic) 0 -}}
  {{- $.Scratch.Add "list" (dict "id" $index "title" $element.Title "authors" (delimit $element.Params.authors ", " " and ") "aspect" $aspect.Title "aspectID" $element.Params.aspect "topic" $topic.Title "medium" $element.Params.medium "year" $element.Params.year "tags" $element.Params.tags "link" $element.Params.link) -}}
{{- end -}}
{{- $.Scratch.Get "list" | jsonify -}}